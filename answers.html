<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Answers of Question</title>
    <script type="text/javascript">
        function doDelete(id) {
            fetch('/books/{{$.Book.ID}}/questions/{{$.Question.ID}}/answers/' + id, { method: 'DELETE' })
                .catch(e => alert(e))
                .then(() => location.href = location.href);
        }
    </script>
</head>

<body>
    {{template "header" .}}
    <h1>
        <a href="/books/{{.Book.ID}}/questions">Questions/</a>
    </h1>
    <p>
        {{.Question.Text}}
    <details>
        <summary> ‚úçÔ∏è </summary>
        <form method="post" action=".">
            <input type="text" name="text" value="{{.Question.Text}}">
            <input type="submit" value="submit">
        </form>
    </details>
    </p>
    <hr>
    <b>Answers:</b>
    <details open>
        <summary>Add</summary>
        <form method="post" action="">
            <textarea name="text"></textarea>
            <br>
            <input type="submit" value="submit">
        </form>
    </details>
    <form method="post" action="correct">
        <ul>
            {{range .Answers}}
            <li>
                <input id="answer-{{.ID}}" type="radio" name="aid" value="{{.ID}}" {{if .IsCorrect}}checked{{end}}>
                <label for="answer-{{.ID}}">üôã
                    <pre>{{.Text}}</pre>
                </label>
                <button onclick="doDelete('{{.ID}}')">Delete</button>
                <details>
                    <summary> ‚úçÔ∏è </summary>
                    <form method="post" action="./answers/{{.ID}}">
                        <textarea name="text">{{.Text}}</textarea><br>
                        <input type="submit" value="submit">
                    </form>
                </details>
            </li>
            {{end}}
        </ul>
        <input type="submit" value="save answer">
    </form>
</body>

</html>